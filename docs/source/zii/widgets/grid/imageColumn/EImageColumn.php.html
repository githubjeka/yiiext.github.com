<html>
    <head>
        <script type="text/javascript" src="../../../../../js/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../../../../../syntax_highlighter/scripts/shCore.js"></script>
        <script type="text/javascript" src="../../../../../syntax_highlighter/scripts/shBrushJScript.js"></script>
        <script type="text/javascript" src="../../../../../syntax_highlighter/scripts/shBrushPhp.js"></script>
        <script type="text/javascript" src="../../../../../syntax_highlighter/scripts/shBrushXml.js"></script>
        <link href="../../../../../syntax_highlighter/styles/shCore.css" rel="stylesheet" type="text/css" />
        <link href="../../../../../syntax_highlighter/styles/shCoreEclipse.css" rel="stylesheet" type="text/css" />
        <link href="../../../../../syntax_highlighter/styles/shThemeWordpress.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <pre class="brush: php">&lt;?php
/**
 * EImageColumn
 *
 * Allows to display image in CGridView column.
 *
 * @author Alexander Makarov
 *
 * @version 1.1
 *
 */
Yii::import('zii.widgets.grid.CGridColumn');

class EImageColumn extends CGridColumn
{
	/**
	 * @var array the HTML options for the data cell tags.
	 */
	public $htmlOptions=array('class'=&gt;'image-column');
	/**
	 * @var array the HTML options for the header cell tag.
	 */
	public $headerHtmlOptions=array('class'=&gt;'image-column');
	/**
	 * @var array the HTML options for the footer cell tag.
	 */
	public $footerHtmlOptions=array('class'=&gt;'image-column');
	/**
	 * @var array the HTML options for the image tag.
	 */
	public $imageOptions=array();
	/**
	 * @var string a PHP expression that is evaluated for every data cell and whose result
	 * is used as the path to image. In this expression, the variable
	 * &lt;code&gt;$row&lt;/code&gt; the row number (zero-based); &lt;code&gt;$data&lt;/code&gt; the data model for the row;
	 * and &lt;code&gt;$this&lt;/code&gt; the column object.
	 */
	public $imagePathExpression;
	/**
	 * @var string Text that is used if cell is empty.
	 */
	public $emptyText = '&acirc;€”';
	/**
	 * Renders the data cell content.
	 * @param integer the row number (zero-based)
	 * @param mixed the data associated with the row
	 */
	protected function renderDataCellContent($row,$data)
	{
		$content = $this-&gt;emptyText;
		if($this-&gt;imagePathExpression!==null &amp;&amp; $imagePath = $this-&gt;evaluateExpression($this-&gt;imagePathExpression,array('row'=&gt;$row,'data'=&gt;$data)))
		{
			$this-&gt;imageOptions['src'] = $imagePath;
			$content = CHtml::tag('img', $this-&gt;imageOptions);
		}

		echo $content;
	}
}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all()
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>